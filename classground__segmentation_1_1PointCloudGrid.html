<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ground_segmentation: ground_segmentation::PointCloudGrid&lt; PointT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ground_segmentation<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Ground segmentation in pointcloud</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classground__segmentation_1_1PointCloudGrid.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classground__segmentation_1_1PointCloudGrid-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ground_segmentation::PointCloudGrid&lt; PointT &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Core grid-based ground segmentation algorithm.  
 <a href="classground__segmentation_1_1PointCloudGrid.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ground_segmentation::PointCloudGrid&lt; PointT &gt;:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classground__segmentation_1_1PointCloudGrid__coll__graph.svg" width="975" height="288"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad7076155bb78fbf473a4ae2625517eb1" id="r_ad7076155bb78fbf473a4ae2625517eb1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ad7076155bb78fbf473a4ae2625517eb1">CellType</a></td></tr>
<tr class="separator:ad7076155bb78fbf473a4ae2625517eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b13cca7273b69da94790582eab60224" id="r_a7b13cca7273b69da94790582eab60224"><td class="memItemLeft" align="right" valign="top">typedef std::unordered_map&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>, <a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ad7076155bb78fbf473a4ae2625517eb1">CellType</a>, <a class="el" href="structground__segmentation_1_1Index3D_1_1HashFunction.html">Index3D::HashFunction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7b13cca7273b69da94790582eab60224">GridCellsType</a></td></tr>
<tr class="separator:a7b13cca7273b69da94790582eab60224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39af590cbf509a89804501389180167" id="r_ac39af590cbf509a89804501389180167"><td class="memItemLeft" align="right" valign="top">typedef nanoflann::KDTreeSingleIndexAdaptor&lt; nanoflann::L2_Simple_Adaptor&lt; double, <a class="el" href="structground__segmentation_1_1PCLPointCloudAdaptor.html">PCLPointCloudAdaptor</a>&lt; PointT &gt; &gt;, <a class="el" href="structground__segmentation_1_1PCLPointCloudAdaptor.html">PCLPointCloudAdaptor</a>&lt; PointT &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ac39af590cbf509a89804501389180167">KDTree</a></td></tr>
<tr class="separator:ac39af590cbf509a89804501389180167"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a84c99709e658fff4a40fbd80cb69bcc3" id="r_a84c99709e658fff4a40fbd80cb69bcc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a84c99709e658fff4a40fbd80cb69bcc3">PointCloudGrid</a> (const <a class="el" href="structground__segmentation_1_1GridConfig.html">GridConfig</a> &amp;config)</td></tr>
<tr class="separator:a84c99709e658fff4a40fbd80cb69bcc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c87020ab9b35111511d3b7092c6592" id="r_af2c87020ab9b35111511d3b7092c6592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#af2c87020ab9b35111511d3b7092c6592">clear</a> ()</td></tr>
<tr class="separator:af2c87020ab9b35111511d3b7092c6592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d3d69cae6d8eed58b39380ab115cf3" id="r_ac2d3d69cae6d8eed58b39380ab115cf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ac2d3d69cae6d8eed58b39380ab115cf3">setInputCloud</a> (typename pcl::PointCloud&lt; PointT &gt;::Ptr input, const Eigen::Quaterniond &amp;R_body2World)</td></tr>
<tr class="separator:ac2d3d69cae6d8eed58b39380ab115cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347e8f059c1da265a3302d2a06de4576" id="r_a347e8f059c1da265a3302d2a06de4576"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7b13cca7273b69da94790582eab60224">GridCellsType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a347e8f059c1da265a3302d2a06de4576">getGridCells</a> ()</td></tr>
<tr class="separator:a347e8f059c1da265a3302d2a06de4576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8aa7aee1fd1524bfc9e861f1c706d8" id="r_abf8aa7aee1fd1524bfc9e861f1c706d8"><td class="memItemLeft" align="right" valign="top">std::pair&lt; typename pcl::PointCloud&lt; PointT &gt;::Ptr, typename pcl::PointCloud&lt; PointT &gt;::Ptr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#abf8aa7aee1fd1524bfc9e861f1c706d8">segmentPoints</a> ()</td></tr>
<tr class="memdesc:abf8aa7aee1fd1524bfc9e861f1c706d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final segmentation step.  <br /></td></tr>
<tr class="separator:abf8aa7aee1fd1524bfc9e861f1c706d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd5d513d176913bdf6fe8730c30e699" id="r_a0fd5d513d176913bdf6fe8730c30e699"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a0fd5d513d176913bdf6fe8730c30e699">checkIndex3DInGrid</a> (const <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &amp;index)</td></tr>
<tr class="separator:a0fd5d513d176913bdf6fe8730c30e699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa0dc1bb0857824dcf67d571f88e914" id="r_a1fa0dc1bb0857824dcf67d571f88e914"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a1fa0dc1bb0857824dcf67d571f88e914">setDistToGround</a> (double z)</td></tr>
<tr class="separator:a1fa0dc1bb0857824dcf67d571f88e914"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab2244f02f720dc462199e3c867b8d054" id="r_ab2244f02f720dc462199e3c867b8d054"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ab2244f02f720dc462199e3c867b8d054">generateIndices</a> (const uint16_t &amp;z_threshold)</td></tr>
<tr class="memdesc:ab2244f02f720dc462199e3c867b8d054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate neighbor offsets for region growing.  <br /></td></tr>
<tr class="separator:ab2244f02f720dc462199e3c867b8d054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac82bdb653890c6900f59068bf5b7bb" id="r_aaac82bdb653890c6900f59068bf5b7bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#aaac82bdb653890c6900f59068bf5b7bb">cleanUp</a> ()</td></tr>
<tr class="separator:aaac82bdb653890c6900f59068bf5b7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cafc2ca7b3984be94bf8da742b0360c" id="r_a6cafc2ca7b3984be94bf8da742b0360c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a6cafc2ca7b3984be94bf8da742b0360c">addPoint</a> (const PointT &amp;point)</td></tr>
<tr class="separator:a6cafc2ca7b3984be94bf8da742b0360c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52eba5b5c1d6c3810d9617875a10d269" id="r_a52eba5b5c1d6c3810d9617875a10d269"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a52eba5b5c1d6c3810d9617875a10d269">getGroundCells</a> ()</td></tr>
<tr class="memdesc:a52eba5b5c1d6c3810d9617875a10d269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classify grid cells into ground or obstacle.  <br /></td></tr>
<tr class="separator:a52eba5b5c1d6c3810d9617875a10d269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1baf979f7c73cabd87e246f4cac3e868" id="r_a1baf979f7c73cabd87e246f4cac3e868"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a1baf979f7c73cabd87e246f4cac3e868">getNeighbors</a> (const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;cell, const <a class="el" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810">TerrainType</a> &amp;type, const std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt; &amp;<a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">neighbor_offsets</a>)</td></tr>
<tr class="separator:a1baf979f7c73cabd87e246f4cac3e868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f8b51dbe081da7715013cf57d929a2" id="r_a22f8b51dbe081da7715013cf57d929a2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a22f8b51dbe081da7715013cf57d929a2">computeSlope</a> (const Eigen::Hyperplane&lt; double, int(3)&gt; &amp;plane) const</td></tr>
<tr class="memdesc:a22f8b51dbe081da7715013cf57d929a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute slope angle between surface normal and global Z-axis.  <br /></td></tr>
<tr class="separator:a22f8b51dbe081da7715013cf57d929a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97769f5c85b7c658161d432312c54b90" id="r_a97769f5c85b7c658161d432312c54b90"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a97769f5c85b7c658161d432312c54b90">computeSlope</a> (const Eigen::Vector3d &amp;normal)</td></tr>
<tr class="separator:a97769f5c85b7c658161d432312c54b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0082dad8b7370c4cbdd6ba1e6930110" id="r_ac0082dad8b7370c4cbdd6ba1e6930110"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ac0082dad8b7370c4cbdd6ba1e6930110">fitGroundPlane</a> (<a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;cell, const double &amp;inlier_threshold)</td></tr>
<tr class="memdesc:ac0082dad8b7370c4cbdd6ba1e6930110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fit a planar model to cell points using PROSAC.  <br /></td></tr>
<tr class="separator:ac0082dad8b7370c4cbdd6ba1e6930110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb6850fa8b8e510aa7f2aa10e938d56b" id="r_aeb6850fa8b8e510aa7f2aa10e938d56b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#aeb6850fa8b8e510aa7f2aa10e938d56b">expandGrid</a> (std::queue&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt; q)</td></tr>
<tr class="memdesc:aeb6850fa8b8e510aa7f2aa10e938d56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Region growing from robot cell using centroid KD-tree.  <br /></td></tr>
<tr class="separator:aeb6850fa8b8e510aa7f2aa10e938d56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3955812bb00019cfd0814288570bc8" id="r_afd3955812bb00019cfd0814288570bc8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#afd3955812bb00019cfd0814288570bc8">classifySparsityBoundingBox</a> (const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;cell, typename pcl::PointCloud&lt; PointT &gt;::Ptr cloud)</td></tr>
<tr class="separator:afd3955812bb00019cfd0814288570bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6fbdf6db46444fbfbb4b0a5c78662f" id="r_a8a6fbdf6db46444fbfbb4b0a5c78662f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a8a6fbdf6db46444fbfbb4b0a5c78662f">classifySparsityNormalDist</a> (const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;cell)</td></tr>
<tr class="separator:a8a6fbdf6db46444fbfbb4b0a5c78662f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6b6b5a10467209f9850edfc62190deb2" id="r_a6b6b5a10467209f9850edfc62190deb2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">neighbor_offsets</a></td></tr>
<tr class="separator:a6b6b5a10467209f9850edfc62190deb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8666cb88a6baa0c76f783034b5315065" id="r_a8666cb88a6baa0c76f783034b5315065"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7b13cca7273b69da94790582eab60224">GridCellsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a></td></tr>
<tr class="separator:a8666cb88a6baa0c76f783034b5315065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce03e28a6df9289742dadc909913488" id="r_afce03e28a6df9289742dadc909913488"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structground__segmentation_1_1GridConfig.html">GridConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a></td></tr>
<tr class="separator:afce03e28a6df9289742dadc909913488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a3bb7b7e69fd4cfd1be4fc762cfca4" id="r_ac5a3bb7b7e69fd4cfd1be4fc762cfca4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">ground_cells</a></td></tr>
<tr class="separator:ac5a3bb7b7e69fd4cfd1be4fc762cfca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6bb0ca4dddfdb8209f9e2504eec644" id="r_a1e6bb0ca4dddfdb8209f9e2504eec644"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a></td></tr>
<tr class="separator:a1e6bb0ca4dddfdb8209f9e2504eec644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae715bfd68d27f8c08820e3d89db82e31" id="r_ae715bfd68d27f8c08820e3d89db82e31"><td class="memItemLeft" align="right" valign="top">Eigen::Quaterniond&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">orientation</a></td></tr>
<tr class="separator:ae715bfd68d27f8c08820e3d89db82e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f3a64c5ecb16b305b1e57c56d822c1" id="r_a39f3a64c5ecb16b305b1e57c56d822c1"><td class="memItemLeft" align="right" valign="top">pcl::PointCloud&lt; PointT &gt;::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a></td></tr>
<tr class="separator:a39f3a64c5ecb16b305b1e57c56d822c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7358ddac8e1c4991089a9bd722b96a6c" id="r_a7358ddac8e1c4991089a9bd722b96a6c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a></td></tr>
<tr class="separator:a7358ddac8e1c4991089a9bd722b96a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec65e97e550ac61412cb79730b00116b" id="r_aec65e97e550ac61412cb79730b00116b"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>, size_t, <a class="el" href="structground__segmentation_1_1Index3D_1_1HashFunction.html">Index3D::HashFunction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a></td></tr>
<tr class="separator:aec65e97e550ac61412cb79730b00116b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename PointT&gt;<br />
class ground_segmentation::PointCloudGrid&lt; PointT &gt;</div><p>Core grid-based ground segmentation algorithm. </p>
<p>Pipeline: 1) Voxelize point cloud into 3D grid 2) Compute PCA per cell 3) Classify primitives (line/plane/noise) 4) Fit plane model (RANSAC) 5) Apply slope threshold 6) Seed region at robot cell 7) Expand via centroid KD-tree</p>
<p>Outputs separated ground and non-ground clouds.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PointT</td><td>PCL point type </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00079">79</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad7076155bb78fbf473a4ae2625517eb1" name="ad7076155bb78fbf473a4ae2625517eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7076155bb78fbf473a4ae2625517eb1">&#9670;&#160;</a></span>CellType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt;PointT&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::CellType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00084">84</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="a7b13cca7273b69da94790582eab60224" name="a7b13cca7273b69da94790582eab60224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b13cca7273b69da94790582eab60224">&#9670;&#160;</a></span>GridCellsType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::unordered_map&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>, <a class="el" href="classground__segmentation_1_1PointCloudGrid.html#ad7076155bb78fbf473a4ae2625517eb1">CellType</a>, <a class="el" href="structground__segmentation_1_1Index3D_1_1HashFunction.html">Index3D::HashFunction</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::GridCellsType</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00085">85</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="ac39af590cbf509a89804501389180167" name="ac39af590cbf509a89804501389180167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39af590cbf509a89804501389180167">&#9670;&#160;</a></span>KDTree</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef nanoflann::KDTreeSingleIndexAdaptor&lt;nanoflann::L2_Simple_Adaptor&lt;double, <a class="el" href="structground__segmentation_1_1PCLPointCloudAdaptor.html">PCLPointCloudAdaptor</a>&lt;PointT&gt; &gt;, <a class="el" href="structground__segmentation_1_1PCLPointCloudAdaptor.html">PCLPointCloudAdaptor</a>&lt;PointT&gt;, 3&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::KDTree</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00114">114</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a84c99709e658fff4a40fbd80cb69bcc3" name="a84c99709e658fff4a40fbd80cb69bcc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c99709e658fff4a40fbd80cb69bcc3">&#9670;&#160;</a></span>PointCloudGrid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::PointCloudGrid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structground__segmentation_1_1GridConfig.html">GridConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00206">206</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  207</span>{</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>.reset(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  210</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a> = config;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a2373c722c930fffca8dd2b1f20e34ce1">processing_phase</a> == 2) {</div>
<div class="line"><span class="lineno">  213</span>    <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">neighbor_offsets</a> = <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#ab2244f02f720dc462199e3c867b8d054">generateIndices</a>(1);</div>
<div class="line"><span class="lineno">  214</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  215</span>    <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">neighbor_offsets</a> = <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#ab2244f02f720dc462199e3c867b8d054">generateIndices</a>(0);</div>
<div class="line"><span class="lineno">  216</span>  }</div>
<div class="line"><span class="lineno">  217</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a39f3a64c5ecb16b305b1e57c56d822c1"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">ground_segmentation::PointCloudGrid::centroid_cloud</a></div><div class="ttdeci">pcl::PointCloud&lt; PointT &gt;::Ptr centroid_cloud</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00200">ground_detection.hpp:200</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a6b6b5a10467209f9850edfc62190deb2"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">ground_segmentation::PointCloudGrid::neighbor_offsets</a></div><div class="ttdeci">std::vector&lt; Index3D &gt; neighbor_offsets</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00191">ground_detection.hpp:191</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ab2244f02f720dc462199e3c867b8d054"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ab2244f02f720dc462199e3c867b8d054">ground_segmentation::PointCloudGrid::generateIndices</a></div><div class="ttdeci">std::vector&lt; Index3D &gt; generateIndices(const uint16_t &amp;z_threshold)</div><div class="ttdoc">Generate neighbor offsets for region growing.</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00220">ground_detection.hpp:220</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_afce03e28a6df9289742dadc909913488"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">ground_segmentation::PointCloudGrid::grid_config</a></div><div class="ttdeci">GridConfig grid_config</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00194">ground_detection.hpp:194</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a2373c722c930fffca8dd2b1f20e34ce1"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a2373c722c930fffca8dd2b1f20e34ce1">ground_segmentation::GridConfig::processing_phase</a></div><div class="ttdeci">uint16_t processing_phase</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00202">ground_detection_types.hpp:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6cafc2ca7b3984be94bf8da742b0360c" name="a6cafc2ca7b3984be94bf8da742b0360c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cafc2ca7b3984be94bf8da742b0360c">&#9670;&#160;</a></span>addPoint()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::addPoint </td>
          <td>(</td>
          <td class="paramtype">const PointT &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00258">258</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>{</div>
<div class="line"><span class="lineno">  260</span>  <span class="keywordtype">double</span> cell_x = point.x / <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#ac5090a5e98a4ff3f5dbba05854091400">cellSizeX</a>;</div>
<div class="line"><span class="lineno">  261</span>  <span class="keywordtype">double</span> cell_y = point.y / <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a8a72084d233fd227e478e8ad94fd0b12">cellSizeY</a>;</div>
<div class="line"><span class="lineno">  262</span>  <span class="keywordtype">double</span> cell_z = point.z / <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a8141a474df39e37f268205402ebbc91d">cellSizeZ</a>;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>  <span class="keywordtype">int</span> x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(cell_x));</div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordtype">int</span> y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(cell_y));</div>
<div class="line"><span class="lineno">  266</span>  <span class="keywordtype">int</span> z = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(cell_z));</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>  <a class="code hl_typedef" href="classground__segmentation_1_1PointCloudGrid.html#ad7076155bb78fbf473a4ae2625517eb1">CellType</a> &amp; cell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[{x, y, z}];</div>
<div class="line"><span class="lineno">  269</span>  <span class="comment">// information is redundant:</span></div>
<div class="line"><span class="lineno">  270</span>  cell.x = x;</div>
<div class="line"><span class="lineno">  271</span>  cell.y = y;</div>
<div class="line"><span class="lineno">  272</span>  cell.z = z;</div>
<div class="line"><span class="lineno">  273</span>  cell.points-&gt;push_back(point);</div>
<div class="line"><span class="lineno">  274</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a8666cb88a6baa0c76f783034b5315065"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">ground_segmentation::PointCloudGrid::gridCells</a></div><div class="ttdeci">GridCellsType gridCells</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00193">ground_detection.hpp:193</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ad7076155bb78fbf473a4ae2625517eb1"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ad7076155bb78fbf473a4ae2625517eb1">ground_segmentation::PointCloudGrid::CellType</a></div><div class="ttdeci">GridCell&lt; PointT &gt; CellType</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00084">ground_detection.hpp:84</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a8141a474df39e37f268205402ebbc91d"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a8141a474df39e37f268205402ebbc91d">ground_segmentation::GridConfig::cellSizeZ</a></div><div class="ttdeci">double cellSizeZ</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00194">ground_detection_types.hpp:194</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a8a72084d233fd227e478e8ad94fd0b12"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a8a72084d233fd227e478e8ad94fd0b12">ground_segmentation::GridConfig::cellSizeY</a></div><div class="ttdeci">double cellSizeY</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00193">ground_detection_types.hpp:193</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_ac5090a5e98a4ff3f5dbba05854091400"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#ac5090a5e98a4ff3f5dbba05854091400">ground_segmentation::GridConfig::cellSizeX</a></div><div class="ttdeci">double cellSizeX</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00192">ground_detection_types.hpp:192</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00097">ground_segmentation::GridCell&lt; PointT &gt;::x</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00098">ground_segmentation::GridCell&lt; PointT &gt;::y</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00099">ground_segmentation::GridCell&lt; PointT &gt;::z</a>.</p>

</div>
</div>
<a id="a0fd5d513d176913bdf6fe8730c30e699" name="a0fd5d513d176913bdf6fe8730c30e699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd5d513d176913bdf6fe8730c30e699">&#9670;&#160;</a></span>checkIndex3DInGrid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::checkIndex3DInGrid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &amp;&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00669">669</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>{</div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span> search = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>.find(index); search != <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>.end()) {</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  673</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  675</span>  }</div>
<div class="line"><span class="lineno">  676</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd3955812bb00019cfd0814288570bc8" name="afd3955812bb00019cfd0814288570bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3955812bb00019cfd0814288570bc8">&#9670;&#160;</a></span>classifySparsityBoundingBox()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::classifySparsityBoundingBox </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename pcl::PointCloud&lt; PointT &gt;::Ptr&#160;</td>
          <td class="paramname"><em>cloud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00297">297</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  300</span>{</div>
<div class="line"><span class="lineno">  301</span>  <span class="keywordflow">if</span> (cell.points-&gt;empty() || cloud-&gt;empty()) {<span class="keywordflow">return</span> <span class="stringliteral">&quot;Empty&quot;</span>;}</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>  PointT min_pt, max_pt;</div>
<div class="line"><span class="lineno">  304</span>  pcl::getMinMax3D(*cell.points, min_pt, max_pt);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordtype">double</span> volume = (max_pt.x - min_pt.x) *</div>
<div class="line"><span class="lineno">  307</span>    (max_pt.y - min_pt.y) *</div>
<div class="line"><span class="lineno">  308</span>    (max_pt.z - min_pt.z);</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordflow">if</span> (volume &lt;= 0.0) {<span class="keywordflow">return</span> <span class="stringliteral">&quot;Degenerate&quot;</span>;}</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>  <span class="keywordtype">double</span> sparsity = volume / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(cloud-&gt;size());</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>  <span class="keywordflow">if</span> (sparsity &lt; 0.001) {</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Low sparsity&quot;</span>;</div>
<div class="line"><span class="lineno">  316</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sparsity &lt; 0.01) {</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Medium sparsity&quot;</span>;</div>
<div class="line"><span class="lineno">  318</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;High sparsity&quot;</span>;</div>
<div class="line"><span class="lineno">  320</span>  }</div>
<div class="line"><span class="lineno">  321</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>.</p>

</div>
</div>
<a id="a8a6fbdf6db46444fbfbb4b0a5c78662f" name="a8a6fbdf6db46444fbfbb4b0a5c78662f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6fbdf6db46444fbfbb4b0a5c78662f">&#9670;&#160;</a></span>classifySparsityNormalDist()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::classifySparsityNormalDist </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00324">324</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  325</span>{</div>
<div class="line"><span class="lineno">  326</span>  <span class="keywordflow">if</span> (cell.points-&gt;empty()) {<span class="keywordflow">return</span> <span class="keyword">false</span>;}</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>  <span class="comment">// Assume cell.centroid and cell.normal are Eigen::Vector3d and cell.normal is normalized</span></div>
<div class="line"><span class="lineno">  329</span>  <span class="keywordtype">double</span> sum_abs_proj = 0.0;</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; pt : cell.points-&gt;points) {</div>
<div class="line"><span class="lineno">  332</span>    Eigen::Vector3d diff(pt.x - cell.centroid[0], pt.y - cell.centroid[1], pt.z - cell.centroid[2]);</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordtype">double</span> proj = diff.dot(cell.normal);     <span class="comment">// projection along normal</span></div>
<div class="line"><span class="lineno">  334</span>    sum_abs_proj += std::abs(proj);</div>
<div class="line"><span class="lineno">  335</span>  }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>  <span class="keywordtype">double</span> mean_abs_proj = sum_abs_proj / cell.points-&gt;size();</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>  <span class="comment">// Threshold: tune for your use case (0.1 = flat/ground)</span></div>
<div class="line"><span class="lineno">  340</span>  <span class="keywordflow">return</span> mean_abs_proj &lt; 0.1;</div>
<div class="line"><span class="lineno">  341</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00105">ground_segmentation::GridCell&lt; PointT &gt;::centroid</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00116">ground_segmentation::GridCell&lt; PointT &gt;::normal</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>.</p>

</div>
</div>
<a id="aaac82bdb653890c6900f59068bf5b7bb" name="aaac82bdb653890c6900f59068bf5b7bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaac82bdb653890c6900f59068bf5b7bb">&#9670;&#160;</a></span>cleanUp()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::cleanUp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00248">248</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">ground_cells</a>.clear();</div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.clear();</div>
<div class="line"><span class="lineno">  252</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;clear();</div>
<div class="line"><span class="lineno">  253</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>.clear();</div>
<div class="line"><span class="lineno">  254</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>.clear();</div>
<div class="line"><span class="lineno">  255</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a1e6bb0ca4dddfdb8209f9e2504eec644"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">ground_segmentation::PointCloudGrid::non_ground_cells</a></div><div class="ttdeci">std::vector&lt; Index3D &gt; non_ground_cells</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00196">ground_detection.hpp:196</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a7358ddac8e1c4991089a9bd722b96a6c"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">ground_segmentation::PointCloudGrid::centroid_indices</a></div><div class="ttdeci">std::vector&lt; Index3D &gt; centroid_indices</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00201">ground_detection.hpp:201</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ac5a3bb7b7e69fd4cfd1be4fc762cfca4"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">ground_segmentation::PointCloudGrid::ground_cells</a></div><div class="ttdeci">std::vector&lt; Index3D &gt; ground_cells</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00195">ground_detection.hpp:195</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_aec65e97e550ac61412cb79730b00116b"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">ground_segmentation::PointCloudGrid::index_to_centroid_idx</a></div><div class="ttdeci">std::unordered_map&lt; Index3D, size_t, Index3D::HashFunction &gt; index_to_centroid_idx</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00202">ground_detection.hpp:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2c87020ab9b35111511d3b7092c6592" name="af2c87020ab9b35111511d3b7092c6592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c87020ab9b35111511d3b7092c6592">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00242">242</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>.clear();</div>
<div class="line"><span class="lineno">  245</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a22f8b51dbe081da7715013cf57d929a2" name="a22f8b51dbe081da7715013cf57d929a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f8b51dbe081da7715013cf57d929a2">&#9670;&#160;</a></span>computeSlope() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::computeSlope </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Hyperplane&lt; double, int(3)&gt; &amp;&#160;</td>
          <td class="paramname"><em>plane</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute slope angle between surface normal and global Z-axis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">normal</td><td>Estimated plane normal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>slope angle in radians</dd></dl>
<p>Uses body-to-world orientation to ensure gravity alignment. </p>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00287">287</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  288</span>{</div>
<div class="line"><span class="lineno">  289</span>  <span class="keyword">const</span> Eigen::Vector3d zNormal(Eigen::Vector3d::UnitZ());</div>
<div class="line"><span class="lineno">  290</span>  Eigen::Vector3d planeNormal = plane.normal();</div>
<div class="line"><span class="lineno">  291</span>  planeNormal = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">orientation</a> * planeNormal;</div>
<div class="line"><span class="lineno">  292</span>  planeNormal.normalize();</div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordflow">return</span> acos(std::abs(planeNormal.dot(zNormal)));</div>
<div class="line"><span class="lineno">  294</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ae715bfd68d27f8c08820e3d89db82e31"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">ground_segmentation::PointCloudGrid::orientation</a></div><div class="ttdeci">Eigen::Quaterniond orientation</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00197">ground_detection.hpp:197</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97769f5c85b7c658161d432312c54b90" name="a97769f5c85b7c658161d432312c54b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97769f5c85b7c658161d432312c54b90">&#9670;&#160;</a></span>computeSlope() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::computeSlope </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3d &amp;&#160;</td>
          <td class="paramname"><em>normal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00277">277</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span>  <span class="keyword">const</span> Eigen::Vector3d zNormal(Eigen::Vector3d::UnitZ());</div>
<div class="line"><span class="lineno">  280</span>  Eigen::Vector3d planeNormal = normal;</div>
<div class="line"><span class="lineno">  281</span>  planeNormal = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">orientation</a> * planeNormal;</div>
<div class="line"><span class="lineno">  282</span>  planeNormal.normalize();</div>
<div class="line"><span class="lineno">  283</span>  <span class="keywordflow">return</span> acos(std::abs(planeNormal.dot(zNormal)));</div>
<div class="line"><span class="lineno">  284</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb6850fa8b8e510aa7f2aa10e938d56b" name="aeb6850fa8b8e510aa7f2aa10e938d56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6850fa8b8e510aa7f2aa10e938d56b">&#9670;&#160;</a></span>expandGrid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::expandGrid </td>
          <td>(</td>
          <td class="paramtype">std::queue&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Region growing from robot cell using centroid KD-tree. </p>
<p>Expands only to:</p><ul>
<li>Cells classified as GROUND</li>
<li>Within centroidSearchRadius</li>
<li>Within vertical threshold (Phase 2)</li>
</ul>
<p>Ensures ground continuity and prevents floating ground artifacts. </p>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00570">570</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  571</span>{</div>
<div class="line"><span class="lineno">  572</span>  <span class="comment">// Wrap the PCL point cloud with nanoflann adaptor</span></div>
<div class="line"><span class="lineno">  573</span>  PCLPointCloudAdaptor&lt;PointT&gt; pclAdaptor(*<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span><span class="preprocessor">#if NANOFLANN_VERSION &gt;= 0x150</span></div>
<div class="line"><span class="lineno">  576</span>  nanoflann::SearchParameters search_params;</div>
<div class="line"><span class="lineno">  577</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  578</span>  nanoflann::SearchParams search_params;</div>
<div class="line"><span class="lineno">  579</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>  search_params.eps = 0.0;      <span class="comment">// Larger tolerance for faster results</span></div>
<div class="line"><span class="lineno">  582</span>  search_params.sorted = <span class="keyword">false</span>;   <span class="comment">// No need to sort</span></div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>  nanoflann::KDTreeSingleIndexAdaptorParams build_params(10);   <span class="comment">// leaf size</span></div>
<div class="line"><span class="lineno">  585</span>  <a class="code hl_typedef" href="classground__segmentation_1_1PointCloudGrid.html#ac39af590cbf509a89804501389180167">KDTree</a> tree(3, pclAdaptor, build_params);</div>
<div class="line"><span class="lineno">  586</span>  tree.buildIndex();</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> radius = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#ab60b8eee50415325b899105e659c6625">centroidSearchRadius</a> * <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#ab60b8eee50415325b899105e659c6625">centroidSearchRadius</a>;   <span class="comment">// nanoflann uses squared radius</span></div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>  <span class="keywordflow">while</span> (!q.empty()) {</div>
<div class="line"><span class="lineno">  591</span>    Index3D idx = q.front();</div>
<div class="line"><span class="lineno">  592</span>    q.pop();</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    GridCell&lt;PointT&gt; &amp; current_cell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[idx];</div>
<div class="line"><span class="lineno">  595</span>    current_cell.in_queue = <span class="keyword">false</span>;     <span class="comment">// Mark as not in queue now that we&#39;re processing it</span></div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordflow">if</span> (current_cell.expanded) {<span class="keywordflow">continue</span>;}</div>
<div class="line"><span class="lineno">  598</span>    current_cell.expanded = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="comment">// Find current centroid index</span></div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordtype">size_t</span> curr_centroid_idx = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>[idx];</div>
<div class="line"><span class="lineno">  602</span>    <span class="keyword">const</span> PointT &amp; curr_centroid = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;points.at(curr_centroid_idx);</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">// Prepare radius search</span></div>
<div class="line"><span class="lineno">  605</span><span class="preprocessor">#if NANOFLANN_VERSION &gt;= 0x150</span></div>
<div class="line"><span class="lineno">  606</span><span class="keyword">using </span>Neighbor = nanoflann::ResultItem&lt;unsigned int, double&gt;;</div>
<div class="line"><span class="lineno">  607</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  608</span><span class="keyword">using </span>Neighbor = std::pair&lt;unsigned int, double&gt;;</div>
<div class="line"><span class="lineno">  609</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    std::vector&lt;Neighbor&gt; neighbors;</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordtype">double</span> query_pt[3] = {<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(curr_centroid.x),</div>
<div class="line"><span class="lineno">  615</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(curr_centroid.y),</div>
<div class="line"><span class="lineno">  616</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(curr_centroid.z)};</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    tree.radiusSearch(query_pt, radius, neighbors, search_params);</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; nb : neighbors) {</div>
<div class="line"><span class="lineno">  621</span>      <span class="keywordtype">size_t</span> ni = nb.first;</div>
<div class="line"><span class="lineno">  622</span>      <span class="keywordflow">if</span> (ni == curr_centroid_idx) {</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">continue</span>;                                  <span class="comment">// skip self</span></div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>      }</div>
<div class="line"><span class="lineno">  626</span>      Index3D neighbor_id = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>[ni];</div>
<div class="line"><span class="lineno">  627</span>      <span class="keywordflow">if</span> (neighbor_id == idx) {</div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">continue</span>;                             <span class="comment">// redundant but safe</span></div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>      }</div>
<div class="line"><span class="lineno">  631</span>      GridCell&lt;PointT&gt; &amp; neighbor = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[neighbor_id];</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>      <span class="keywordflow">if</span> (neighbor.points-&gt;empty() || neighbor.expanded || neighbor.in_queue) {<span class="keywordflow">continue</span>;}</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a2373c722c930fffca8dd2b1f20e34ce1">processing_phase</a> == 2) {</div>
<div class="line"><span class="lineno">  636</span>        <span class="comment">// Reject neighbor if centroid height difference is too large</span></div>
<div class="line"><span class="lineno">  637</span>        <span class="keywordtype">double</span> dz = std::abs(curr_centroid.z - neighbor.centroid[2]);</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">if</span> (dz &gt; <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a9736550fb5094bb17933f639de74fb8e">groundInlierThreshold</a>) {</div>
<div class="line"><span class="lineno">  639</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  640</span>        }</div>
<div class="line"><span class="lineno">  641</span>        neighbor.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>;</div>
<div class="line"><span class="lineno">  642</span>      }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>      <span class="keywordflow">if</span> (neighbor.terrain_type == <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>) {</div>
<div class="line"><span class="lineno">  645</span>        q.push(neighbor_id);</div>
<div class="line"><span class="lineno">  646</span>        neighbor.in_queue = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  647</span>      }</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">ground_cells</a>.emplace_back(idx);</div>
<div class="line"><span class="lineno">  650</span>  }</div>
<div class="line"><span class="lineno">  651</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ac39af590cbf509a89804501389180167"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ac39af590cbf509a89804501389180167">ground_segmentation::PointCloudGrid::KDTree</a></div><div class="ttdeci">nanoflann::KDTreeSingleIndexAdaptor&lt; nanoflann::L2_Simple_Adaptor&lt; double, PCLPointCloudAdaptor&lt; PointT &gt; &gt;, PCLPointCloudAdaptor&lt; PointT &gt;, 3 &gt; KDTree</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00114">ground_detection.hpp:114</a></div></div>
<div class="ttc" id="anamespaceground__segmentation_html_aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f"><div class="ttname"><a href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">ground_segmentation::GROUND</a></div><div class="ttdeci">@ GROUND</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00057">ground_detection_types.hpp:57</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a9736550fb5094bb17933f639de74fb8e"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a9736550fb5094bb17933f639de74fb8e">ground_segmentation::GridConfig::groundInlierThreshold</a></div><div class="ttdeci">double groundInlierThreshold</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00197">ground_detection_types.hpp:197</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_ab60b8eee50415325b899105e659c6625"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#ab60b8eee50415325b899105e659c6625">ground_segmentation::GridConfig::centroidSearchRadius</a></div><div class="ttdeci">double centroidSearchRadius</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00199">ground_detection_types.hpp:199</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00105">ground_segmentation::GridCell&lt; PointT &gt;::centroid</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00100">ground_segmentation::GridCell&lt; PointT &gt;::expanded</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00057">ground_segmentation::GROUND</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00101">ground_segmentation::GridCell&lt; PointT &gt;::in_queue</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00103">ground_segmentation::GridCell&lt; PointT &gt;::terrain_type</a>.</p>

</div>
</div>
<a id="ac0082dad8b7370c4cbdd6ba1e6930110" name="ac0082dad8b7370c4cbdd6ba1e6930110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0082dad8b7370c4cbdd6ba1e6930110">&#9670;&#160;</a></span>fitGroundPlane()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::fitGroundPlane </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>inlier_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fit a planar model to cell points using PROSAC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cell</td><td>Grid cell </td></tr>
    <tr><td class="paramname">threshold</td><td>RANSAC inlier threshold (meters)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if plane successfully estimated</dd></dl>
<p>Sets:</p><ul>
<li>cell.inliers</li>
<li>cell.slope </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00378">378</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  379</span>{</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>  pcl::ModelCoefficients::Ptr coefficients(<span class="keyword">new</span> pcl::ModelCoefficients);</div>
<div class="line"><span class="lineno">  382</span>  pcl::PointIndices::Ptr inliers(<span class="keyword">new</span> pcl::PointIndices);</div>
<div class="line"><span class="lineno">  383</span>  pcl::SACSegmentation&lt;PointT&gt; seg;</div>
<div class="line"><span class="lineno">  384</span>  seg.setOptimizeCoefficients(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  385</span>  seg.setModelType(pcl::SACMODEL_PLANE);</div>
<div class="line"><span class="lineno">  386</span>  seg.setMethodType(pcl::SAC_PROSAC);</div>
<div class="line"><span class="lineno">  387</span>  seg.setMaxIterations(1000);</div>
<div class="line"><span class="lineno">  388</span>  seg.setInputCloud(cell.points);</div>
<div class="line"><span class="lineno">  389</span>  seg.setDistanceThreshold(threshold);   <span class="comment">// Adjust this threshold based on your needs</span></div>
<div class="line"><span class="lineno">  390</span>  seg.segment(*inliers, *coefficients);</div>
<div class="line"><span class="lineno">  391</span>  cell.inliers = inliers;</div>
<div class="line"><span class="lineno">  392</span>  <span class="keywordflow">if</span> (cell.inliers-&gt;indices.size() == 0) {</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  394</span>  }</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>  Eigen::Vector3d plane_normal(coefficients-&gt;values[0], coefficients-&gt;values[1],</div>
<div class="line"><span class="lineno">  397</span>    coefficients-&gt;values[2]);</div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordtype">double</span> distToOrigin = coefficients-&gt;values[3];</div>
<div class="line"><span class="lineno">  399</span>  <span class="keyword">auto</span> plane = Eigen::Hyperplane&lt;double, 3&gt;(plane_normal, distToOrigin);</div>
<div class="line"><span class="lineno">  400</span>  cell.slope = <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a22f8b51dbe081da7715013cf57d929a2">computeSlope</a>(plane);</div>
<div class="line"><span class="lineno">  401</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  402</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a22f8b51dbe081da7715013cf57d929a2"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a22f8b51dbe081da7715013cf57d929a2">ground_segmentation::PointCloudGrid::computeSlope</a></div><div class="ttdeci">double computeSlope(const Eigen::Hyperplane&lt; double, int(3)&gt; &amp;plane) const</div><div class="ttdoc">Compute slope angle between surface normal and global Z-axis.</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00287">ground_detection.hpp:287</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00106">ground_segmentation::GridCell&lt; PointT &gt;::inliers</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00113">ground_segmentation::GridCell&lt; PointT &gt;::slope</a>.</p>

</div>
</div>
<a id="ab2244f02f720dc462199e3c867b8d054" name="ab2244f02f720dc462199e3c867b8d054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2244f02f720dc462199e3c867b8d054">&#9670;&#160;</a></span>generateIndices()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::generateIndices </td>
          <td>(</td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>z_threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate neighbor offsets for region growing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">z_threshold</td><td>Defines vertical expansion range.</td></tr>
  </table>
  </dd>
</dl>
<p>Phase 1  z_threshold = 0 (horizontal only) Phase 2  z_threshold = 1 (vertical connectivity allowed) </p>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00220">220</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  221</span>{</div>
<div class="line"><span class="lineno">  222</span>  std::vector&lt;Index3D&gt; idxs;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dx = -1; dx &lt;= 1; ++dx) {</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dy = -1; dy &lt;= 1; ++dy) {</div>
<div class="line"><span class="lineno">  226</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dz = -1; dz &lt;= z_threshold; ++dz) {</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> (dx == 0 &amp;&amp; dy == 0 &amp;&amp; dz == 0) {</div>
<div class="line"><span class="lineno">  228</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  229</span>        }</div>
<div class="line"><span class="lineno">  230</span>        Index3D idx;</div>
<div class="line"><span class="lineno">  231</span>        idx.x = dx;</div>
<div class="line"><span class="lineno">  232</span>        idx.y = dy;</div>
<div class="line"><span class="lineno">  233</span>        idx.z = dz;</div>
<div class="line"><span class="lineno">  234</span>        idxs.push_back(idx);</div>
<div class="line"><span class="lineno">  235</span>      }</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span>  }</div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordflow">return</span> idxs;</div>
<div class="line"><span class="lineno">  239</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::x</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::y</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::z</a>.</p>

</div>
</div>
<a id="a347e8f059c1da265a3302d2a06de4576" name="a347e8f059c1da265a3302d2a06de4576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a347e8f059c1da265a3302d2a06de4576">&#9670;&#160;</a></span>getGridCells()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7b13cca7273b69da94790582eab60224">GridCellsType</a> &amp; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::getGridCells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00092">92</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection_8hpp_source.html#l00193">ground_segmentation::PointCloudGrid&lt; PointT &gt;::gridCells</a>.</p>

</div>
</div>
<a id="a52eba5b5c1d6c3810d9617875a10d269" name="a52eba5b5c1d6c3810d9617875a10d269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52eba5b5c1d6c3810d9617875a10d269">&#9670;&#160;</a></span>getGroundCells()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::getGroundCells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Classify grid cells into ground or obstacle. </p>
<p>Steps:</p><ul>
<li>Reject sparse cells</li>
<li>PCA eigenvalue analysis</li>
<li>Primitive classification</li>
<li>Plane fitting</li>
<li>Slope thresholding</li>
<li>Robot-seeded region growing </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00405">405</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>{</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>.empty()) {</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  410</span>  }</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>  this-&gt;<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#aaac82bdb653890c6900f59068bf5b7bb">cleanUp</a>();</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; cellPair : <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>) {</div>
<div class="line"><span class="lineno">  415</span>    GridCell&lt;PointT&gt; &amp; cell = cellPair.second;</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="comment">//Too few points</span></div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> ((cell.points-&gt;size() &lt; 3)) {<span class="keywordflow">continue</span>;}</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    Index3D cell_id = cellPair.first;</div>
<div class="line"><span class="lineno">  421</span>    pcl::compute3DCentroid(*(cell.points), cell.centroid);</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> (cell.points-&gt;size() &lt;= 5) {</div>
<div class="line"><span class="lineno">  424</span>      Eigen::Vector4f squared_diff_sum(0, 0, 0, 0);</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>      <span class="keywordflow">for</span> (<span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::iterator it = cell.points-&gt;begin();</div>
<div class="line"><span class="lineno">  427</span>        it != cell.points-&gt;end(); ++it)</div>
<div class="line"><span class="lineno">  428</span>      {</div>
<div class="line"><span class="lineno">  429</span>        Eigen::Vector4f diff = (*it).getVector4fMap() - cell.centroid.template cast&lt;float&gt;();</div>
<div class="line"><span class="lineno">  430</span>        squared_diff_sum += diff.array().square().matrix();</div>
<div class="line"><span class="lineno">  431</span>      }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>      Eigen::Vector4f variance = squared_diff_sum / cell.points-&gt;size();</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>      <span class="keywordflow">if</span> (variance[0] &lt; variance[2] &amp;&amp; variance[1] &lt; variance[2]) {</div>
<div class="line"><span class="lineno">  436</span>        cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  437</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  438</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  439</span>        cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>;</div>
<div class="line"><span class="lineno">  440</span>        PointT centroid3d;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        centroid3d.x = cell.centroid[0];</div>
<div class="line"><span class="lineno">  443</span>        centroid3d.y = cell.centroid[1];</div>
<div class="line"><span class="lineno">  444</span>        centroid3d.z = cell.centroid[2];</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;points.push_back(centroid3d);</div>
<div class="line"><span class="lineno">  447</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>[cell_id] = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;size() - 1;</div>
<div class="line"><span class="lineno">  449</span>      }</div>
<div class="line"><span class="lineno">  450</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  451</span>    }</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    Eigen::Matrix3d covariance_matrix;</div>
<div class="line"><span class="lineno">  454</span>    pcl::computeCovarianceMatrixNormalized(*cell.points, cell.centroid, covariance_matrix);</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    Eigen::SelfAdjointEigenSolver&lt;Eigen::Matrix3d&gt; eigen_solver(covariance_matrix,</div>
<div class="line"><span class="lineno">  457</span>      Eigen::ComputeEigenvectors);</div>
<div class="line"><span class="lineno">  458</span>    cell.eigenvectors = eigen_solver.eigenvectors();</div>
<div class="line"><span class="lineno">  459</span>    cell.eigenvalues = eigen_solver.eigenvalues();</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    Eigen::Vector3d normal = cell.eigenvectors.col(0);</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">// Ensure all normals point upward</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">if</span> (normal(2) &lt; 0) {</div>
<div class="line"><span class="lineno">  465</span>      normal *= -1;       <span class="comment">// flip the normal direction</span></div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    normal.normalize();</div>
<div class="line"><span class="lineno">  469</span>    cell.normal = normal;</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordtype">double</span> ratio = cell.eigenvalues[2] / cell.eigenvalues.sum();</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> (ratio &gt; 0.950) {</div>
<div class="line"><span class="lineno">  473</span>      cell.primitive_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfad189dc6a8462138db8b885128b3d6a9f">PrimitiveType::LINE</a>;</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>      Eigen::Vector3d v = cell.eigenvectors.col(2);</div>
<div class="line"><span class="lineno">  476</span>      <span class="keywordflow">if</span> (v(2) &lt; 0) {</div>
<div class="line"><span class="lineno">  477</span>        v *= -1;         <span class="comment">// flip the normal direction</span></div>
<div class="line"><span class="lineno">  478</span>      }</div>
<div class="line"><span class="lineno">  479</span>      v = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">orientation</a> * v;</div>
<div class="line"><span class="lineno">  480</span>      v.normalize();</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>      <span class="keywordtype">double</span> angle_rad = acos(std::abs(v.dot(Eigen::Vector3d::UnitZ())));</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>      <span class="keywordflow">if</span> (angle_rad &gt; ((90 - <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a5483cbdd7461934ce0b6ba7efa78cae4">slopeThresholdDegrees</a>) * (M_PI / 180))) {</div>
<div class="line"><span class="lineno">  485</span>        cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>;</div>
<div class="line"><span class="lineno">  486</span>        PointT centroid3d;</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>        centroid3d.x = cell.centroid[0];</div>
<div class="line"><span class="lineno">  489</span>        centroid3d.y = cell.centroid[1];</div>
<div class="line"><span class="lineno">  490</span>        centroid3d.z = cell.centroid[2];</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;points.push_back(centroid3d);</div>
<div class="line"><span class="lineno">  493</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  494</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>[cell_id] = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;size() - 1;</div>
<div class="line"><span class="lineno">  495</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  496</span>        cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  497</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  498</span>      }</div>
<div class="line"><span class="lineno">  499</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  500</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ratio &gt; 0.4) {</div>
<div class="line"><span class="lineno">  501</span>      cell.primitive_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfa21fdb0c27f2a5855825463224374e7fe">PrimitiveType::PLANE</a>;</div>
<div class="line"><span class="lineno">  502</span>      <span class="keywordflow">if</span> (std::abs(<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a22f8b51dbe081da7715013cf57d929a2">computeSlope</a>(cell.normal)) &gt; (<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a5483cbdd7461934ce0b6ba7efa78cae4">slopeThresholdDegrees</a> * (M_PI / 180.0))) {</div>
<div class="line"><span class="lineno">  503</span>        cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  504</span>        <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  506</span>      }</div>
<div class="line"><span class="lineno">  507</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  508</span>      cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  509</span>      cell.primitive_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfaa98ab30addd69c9a074d056989a396f1">PrimitiveType::NOISE</a>;</div>
<div class="line"><span class="lineno">  510</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  511</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  512</span>    }</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#ac0082dad8b7370c4cbdd6ba1e6930110">fitGroundPlane</a>(cell, <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a9736550fb5094bb17933f639de74fb8e">groundInlierThreshold</a>)) {</div>
<div class="line"><span class="lineno">  515</span>      cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  516</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  517</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  518</span>    }</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">if</span> (cell.slope &lt; (<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a5483cbdd7461934ce0b6ba7efa78cae4">slopeThresholdDegrees</a> * (M_PI / 180)) ) {</div>
<div class="line"><span class="lineno">  521</span>      cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>;</div>
<div class="line"><span class="lineno">  522</span>      PointT centroid3d;</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>      centroid3d.x = cell.centroid[0];</div>
<div class="line"><span class="lineno">  525</span>      centroid3d.y = cell.centroid[1];</div>
<div class="line"><span class="lineno">  526</span>      centroid3d.z = cell.centroid[2];</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;points.push_back(centroid3d);</div>
<div class="line"><span class="lineno">  529</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  530</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>[cell_id] = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;size() - 1;</div>
<div class="line"><span class="lineno">  531</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  532</span>      cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">TerrainType::OBSTACLE</a>;</div>
<div class="line"><span class="lineno">  533</span>      <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>.push_back(cell_id);</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span>  }</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>  std::queue&lt;Index3D&gt; q;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>  Index3D best_robot_cell;</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>  <span class="comment">// Compute z index directly from distToGround</span></div>
<div class="line"><span class="lineno">  542</span>  <span class="keywordtype">int</span> z = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(<a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a2208c857dbaa2879dda721cf93f4aa2b">distToGround</a> / <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a8141a474df39e37f268205402ebbc91d">cellSizeZ</a>));</div>
<div class="line"><span class="lineno">  543</span>  best_robot_cell = Index3D{0, 0, z};</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>  <span class="comment">// Ensure the cell exists (even if empty)</span></div>
<div class="line"><span class="lineno">  546</span>  GridCell&lt;PointT&gt; &amp; robot_cell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[best_robot_cell];</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>  <span class="comment">// Mark semantics</span></div>
<div class="line"><span class="lineno">  549</span>  robot_cell.terrain_type = <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>;</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>  <span class="comment">// IMPORTANT: allow expansion even without points</span></div>
<div class="line"><span class="lineno">  552</span>  robot_cell.expanded = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  553</span>  robot_cell.in_queue = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>  <span class="comment">// Add centroid ONLY for KD-tree seeding</span></div>
<div class="line"><span class="lineno">  556</span>  PointT centroid3d;</div>
<div class="line"><span class="lineno">  557</span>  centroid3d.x = 0.0;</div>
<div class="line"><span class="lineno">  558</span>  centroid3d.y = 0.0;</div>
<div class="line"><span class="lineno">  559</span>  centroid3d.z = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a2208c857dbaa2879dda721cf93f4aa2b">distToGround</a>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;points.push_back(centroid3d);</div>
<div class="line"><span class="lineno">  562</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a7358ddac8e1c4991089a9bd722b96a6c">centroid_indices</a>.push_back(best_robot_cell);</div>
<div class="line"><span class="lineno">  563</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#aec65e97e550ac61412cb79730b00116b">index_to_centroid_idx</a>[best_robot_cell] = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a39f3a64c5ecb16b305b1e57c56d822c1">centroid_cloud</a>-&gt;size() - 1;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>  q.push(best_robot_cell);</div>
<div class="line"><span class="lineno">  566</span>  <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#aeb6850fa8b8e510aa7f2aa10e938d56b">expandGrid</a>(q);</div>
<div class="line"><span class="lineno">  567</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_aaac82bdb653890c6900f59068bf5b7bb"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#aaac82bdb653890c6900f59068bf5b7bb">ground_segmentation::PointCloudGrid::cleanUp</a></div><div class="ttdeci">void cleanUp()</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00248">ground_detection.hpp:248</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_ac0082dad8b7370c4cbdd6ba1e6930110"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#ac0082dad8b7370c4cbdd6ba1e6930110">ground_segmentation::PointCloudGrid::fitGroundPlane</a></div><div class="ttdeci">bool fitGroundPlane(GridCell&lt; PointT &gt; &amp;cell, const double &amp;inlier_threshold)</div><div class="ttdoc">Fit a planar model to cell points using PROSAC.</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00378">ground_detection.hpp:378</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_aeb6850fa8b8e510aa7f2aa10e938d56b"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#aeb6850fa8b8e510aa7f2aa10e938d56b">ground_segmentation::PointCloudGrid::expandGrid</a></div><div class="ttdeci">void expandGrid(std::queue&lt; Index3D &gt; q)</div><div class="ttdoc">Region growing from robot cell using centroid KD-tree.</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00570">ground_detection.hpp:570</a></div></div>
<div class="ttc" id="anamespaceground__segmentation_html_aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052"><div class="ttname"><a href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810af09c13504d0a3117a899b419876c2052">ground_segmentation::OBSTACLE</a></div><div class="ttdeci">@ OBSTACLE</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00059">ground_detection_types.hpp:58</a></div></div>
<div class="ttc" id="anamespaceground__segmentation_html_acf181d525e8a5b29e9c35841066d38bfa21fdb0c27f2a5855825463224374e7fe"><div class="ttname"><a href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfa21fdb0c27f2a5855825463224374e7fe">ground_segmentation::PLANE</a></div><div class="ttdeci">@ PLANE</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00073">ground_detection_types.hpp:73</a></div></div>
<div class="ttc" id="anamespaceground__segmentation_html_acf181d525e8a5b29e9c35841066d38bfaa98ab30addd69c9a074d056989a396f1"><div class="ttname"><a href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfaa98ab30addd69c9a074d056989a396f1">ground_segmentation::NOISE</a></div><div class="ttdeci">@ NOISE</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00075">ground_detection_types.hpp:74</a></div></div>
<div class="ttc" id="anamespaceground__segmentation_html_acf181d525e8a5b29e9c35841066d38bfad189dc6a8462138db8b885128b3d6a9f"><div class="ttname"><a href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfad189dc6a8462138db8b885128b3d6a9f">ground_segmentation::LINE</a></div><div class="ttdeci">@ LINE</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00072">ground_detection_types.hpp:72</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a2208c857dbaa2879dda721cf93f4aa2b"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a2208c857dbaa2879dda721cf93f4aa2b">ground_segmentation::GridConfig::distToGround</a></div><div class="ttdeci">double distToGround</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00200">ground_detection_types.hpp:200</a></div></div>
<div class="ttc" id="astructground__segmentation_1_1GridConfig_html_a5483cbdd7461934ce0b6ba7efa78cae4"><div class="ttname"><a href="structground__segmentation_1_1GridConfig.html#a5483cbdd7461934ce0b6ba7efa78cae4">ground_segmentation::GridConfig::slopeThresholdDegrees</a></div><div class="ttdeci">double slopeThresholdDegrees</div><div class="ttdef"><b>Definition</b> <a href="ground__detection__types_8hpp_source.html#l00196">ground_detection_types.hpp:196</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00105">ground_segmentation::GridCell&lt; PointT &gt;::centroid</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00108">ground_segmentation::GridCell&lt; PointT &gt;::eigenvalues</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00107">ground_segmentation::GridCell&lt; PointT &gt;::eigenvectors</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00100">ground_segmentation::GridCell&lt; PointT &gt;::expanded</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00057">ground_segmentation::GROUND</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00101">ground_segmentation::GridCell&lt; PointT &gt;::in_queue</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00072">ground_segmentation::LINE</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00074">ground_segmentation::NOISE</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00116">ground_segmentation::GridCell&lt; PointT &gt;::normal</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00058">ground_segmentation::OBSTACLE</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00073">ground_segmentation::PLANE</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00104">ground_segmentation::GridCell&lt; PointT &gt;::primitive_type</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00113">ground_segmentation::GridCell&lt; PointT &gt;::slope</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00103">ground_segmentation::GridCell&lt; PointT &gt;::terrain_type</a>.</p>

</div>
</div>
<a id="a1baf979f7c73cabd87e246f4cac3e868" name="a1baf979f7c73cabd87e246f4cac3e868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1baf979f7c73cabd87e246f4cac3e868">&#9670;&#160;</a></span>getNeighbors()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::getNeighbors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structground__segmentation_1_1GridCell.html">GridCell</a>&lt; PointT &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810">TerrainType</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>neighbor_offsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00344">344</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  348</span>{</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>  std::vector&lt;Index3D&gt; neighbors;</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>  Index3D cell_id;</div>
<div class="line"><span class="lineno">  353</span>  cell_id.x = cell.x;</div>
<div class="line"><span class="lineno">  354</span>  cell_id.y = cell.y;</div>
<div class="line"><span class="lineno">  355</span>  cell_id.z = cell.z;</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>  <span class="keywordflow">for</span> (uint i = 0; i &lt; idx.size(); ++i) {</div>
<div class="line"><span class="lineno">  358</span>    Index3D neighbor_id = cell_id + idx[i];</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a0fd5d513d176913bdf6fe8730c30e699">checkIndex3DInGrid</a>(neighbor_id)) {</div>
<div class="line"><span class="lineno">  361</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  362</span>    }</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>    <span class="keyword">const</span> GridCell&lt;PointT&gt; &amp; neighbor = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[neighbor_id];</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">if</span> (neighbor.points-&gt;size() &gt; 0 &amp;&amp; neighbor.terrain_type == type) {</div>
<div class="line"><span class="lineno">  367</span>      Index3D id;</div>
<div class="line"><span class="lineno">  368</span>      <span class="keywordtype">id</span>.x = neighbor.x;</div>
<div class="line"><span class="lineno">  369</span>      <span class="keywordtype">id</span>.y = neighbor.y;</div>
<div class="line"><span class="lineno">  370</span>      <span class="keywordtype">id</span>.z = neighbor.z;</div>
<div class="line"><span class="lineno">  371</span>      neighbors.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span>  }</div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">return</span> neighbors;</div>
<div class="line"><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a0fd5d513d176913bdf6fe8730c30e699"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a0fd5d513d176913bdf6fe8730c30e699">ground_segmentation::PointCloudGrid::checkIndex3DInGrid</a></div><div class="ttdeci">bool checkIndex3DInGrid(const Index3D &amp;index)</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00669">ground_detection.hpp:669</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00103">ground_segmentation::GridCell&lt; PointT &gt;::terrain_type</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00097">ground_segmentation::GridCell&lt; PointT &gt;::x</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::x</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00098">ground_segmentation::GridCell&lt; PointT &gt;::y</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::y</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00099">ground_segmentation::GridCell&lt; PointT &gt;::z</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00153">ground_segmentation::Index3D::z</a>.</p>

</div>
</div>
<a id="abf8aa7aee1fd1524bfc9e861f1c706d8" name="abf8aa7aee1fd1524bfc9e861f1c706d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8aa7aee1fd1524bfc9e861f1c706d8">&#9670;&#160;</a></span>segmentPoints()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; typename pcl::PointCloud&lt; PointT &gt;::Ptr, typename pcl::PointCloud&lt; PointT &gt;::Ptr &gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::segmentPoints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Final segmentation step. </p>
<p>Splits:</p><ul>
<li>Ground points</li>
<li>Non-ground points</li>
</ul>
<p>Applies:</p><ul>
<li>Inlier extraction</li>
<li>Sparsity checks</li>
<li>Floating cell rejection</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>pair&lt;ground_cloud, non_ground_cloud&gt; </dd></dl>

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00680">680</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  681</span>{</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  <span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::Ptr ground_points(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  684</span>  <span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::Ptr ground_inliers(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  685</span>  <span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::Ptr non_ground_points(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  686</span>  <span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::Ptr non_ground_inliers(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>  pcl::ExtractIndices&lt;PointT&gt; extract_ground;</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>  <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a52eba5b5c1d6c3810d9617875a10d269">getGroundCells</a>();</div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; cell_id : <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">ground_cells</a>) {</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>    GridCell&lt;PointT&gt; &amp; cell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[cell_id];</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> ((cell.points-&gt;size() &lt;= 5 || cell.primitive_type == <a class="code hl_enumvalue" href="namespaceground__segmentation.html#acf181d525e8a5b29e9c35841066d38bfad189dc6a8462138db8b885128b3d6a9f">PrimitiveType::LINE</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  696</span>      cell.terrain_type == <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>)</div>
<div class="line"><span class="lineno">  697</span>    {</div>
<div class="line"><span class="lineno">  698</span>      *ground_points += *cell.points;</div>
<div class="line"><span class="lineno">  699</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>    extract_ground.setInputCloud(cell.points);</div>
<div class="line"><span class="lineno">  703</span>    extract_ground.setIndices(cell.inliers);</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    extract_ground.setNegative(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  706</span>    extract_ground.filter(*ground_inliers);</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    extract_ground.setNegative(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  709</span>    extract_ground.filter(*non_ground_inliers);</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordflow">if</span> (ground_inliers-&gt;size() == 0) {</div>
<div class="line"><span class="lineno">  712</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  713</span>    }</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>    <span class="keyword">auto</span> score1 = <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#afd3955812bb00019cfd0814288570bc8">classifySparsityBoundingBox</a>(cell, ground_inliers);</div>
<div class="line"><span class="lineno">  716</span>    <span class="keyword">auto</span> score2 = <a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#afd3955812bb00019cfd0814288570bc8">classifySparsityBoundingBox</a>(cell, non_ground_inliers);</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordflow">if</span> (score1 == score2) {</div>
<div class="line"><span class="lineno">  719</span>      Eigen::Vector4d centroid;</div>
<div class="line"><span class="lineno">  720</span>      pcl::compute3DCentroid(*(ground_inliers), centroid);</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>      <span class="comment">// For each candidate ground cell:</span></div>
<div class="line"><span class="lineno">  723</span>      <span class="keywordtype">double</span> cell_z = centroid[2];</div>
<div class="line"><span class="lineno">  724</span>      std::vector&lt;double&gt; neighbor_zs;</div>
<div class="line"><span class="lineno">  725</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; offset : <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a6b6b5a10467209f9850edfc62190deb2">neighbor_offsets</a>) {</div>
<div class="line"><span class="lineno">  726</span>        Index3D nidx = cell_id + offset;</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a0fd5d513d176913bdf6fe8730c30e699">checkIndex3DInGrid</a>(nidx)) {<span class="keywordflow">continue</span>;}</div>
<div class="line"><span class="lineno">  728</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp; ncell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[nidx];</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordflow">if</span> (ncell.terrain_type == <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>) {</div>
<div class="line"><span class="lineno">  731</span>          <span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::Ptr ninliers(<span class="keyword">new</span> pcl::PointCloud&lt;PointT&gt;());</div>
<div class="line"><span class="lineno">  732</span>          Eigen::Vector4d ncentroid;</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>          extract_ground.setInputCloud(ncell.points);</div>
<div class="line"><span class="lineno">  735</span>          extract_ground.setIndices(ncell.inliers);</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>          extract_ground.setNegative(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  738</span>          extract_ground.filter(*ninliers);</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>          pcl::compute3DCentroid(*(ninliers), ncentroid);</div>
<div class="line"><span class="lineno">  741</span>          neighbor_zs.push_back(ncell.centroid[2]);</div>
<div class="line"><span class="lineno">  742</span>        }</div>
<div class="line"><span class="lineno">  743</span>      }</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>      <span class="keywordflow">if</span> (neighbor_zs.empty()) {</div>
<div class="line"><span class="lineno">  746</span>        *non_ground_points += *cell.points;</div>
<div class="line"><span class="lineno">  747</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  748</span>      }</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>      <span class="keywordtype">double</span> local_ref = *std::min_element(neighbor_zs.begin(), neighbor_zs.end());</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>      <span class="keywordflow">if</span> (cell_z - local_ref &gt; 0.3) {</div>
<div class="line"><span class="lineno">  753</span>        *non_ground_points += *cell.points;</div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  755</span>      }</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>      <span class="keywordtype">bool</span> reject_as_floating = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  758</span>      <span class="keywordtype">int</span> bz = cell_id.z - 1;</div>
<div class="line"><span class="lineno">  759</span>      <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  760</span>        Index3D below(cell_id.x, cell_id.y, bz);</div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a0fd5d513d176913bdf6fe8730c30e699">checkIndex3DInGrid</a>(below)) {</div>
<div class="line"><span class="lineno">  762</span>          <span class="keywordflow">break</span>;                                        <span class="comment">// Out of bound: stop looping</span></div>
<div class="line"><span class="lineno">  763</span>        }</div>
<div class="line"><span class="lineno">  764</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp; bcell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[below];</div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">if</span> (!bcell.points-&gt;empty() &amp;&amp; bcell.terrain_type != <a class="code hl_enumvalue" href="namespaceground__segmentation.html#aa896bb5409199d7b9d75a807ef857810aadc523b14d8ecb4e2fd3d381b0cccb4f">TerrainType::GROUND</a>) {</div>
<div class="line"><span class="lineno">  766</span>          <span class="comment">// Found an occupied non-ground cell belowreject as floating!</span></div>
<div class="line"><span class="lineno">  767</span>          reject_as_floating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  768</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  769</span>        }</div>
<div class="line"><span class="lineno">  770</span>        --bz;</div>
<div class="line"><span class="lineno">  771</span>      }</div>
<div class="line"><span class="lineno">  772</span>      <span class="keywordflow">if</span> (reject_as_floating) {</div>
<div class="line"><span class="lineno">  773</span>        *non_ground_points += *cell.points;</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  775</span>      }</div>
<div class="line"><span class="lineno">  776</span>    }</div>
<div class="line"><span class="lineno">  777</span>    *ground_points += *ground_inliers;</div>
<div class="line"><span class="lineno">  778</span>    *non_ground_points += *non_ground_inliers;</div>
<div class="line"><span class="lineno">  779</span>  }</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; cell_id : <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a1e6bb0ca4dddfdb8209f9e2504eec644">non_ground_cells</a>) {</div>
<div class="line"><span class="lineno">  782</span>    <span class="keyword">const</span> GridCell&lt;PointT&gt; &amp; cell = <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#a8666cb88a6baa0c76f783034b5315065">gridCells</a>[cell_id];</div>
<div class="line"><span class="lineno">  783</span>    *non_ground_points += *cell.points;</div>
<div class="line"><span class="lineno">  784</span>  }</div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordflow">return</span> std::make_pair(ground_points, non_ground_points);</div>
<div class="line"><span class="lineno">  786</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a52eba5b5c1d6c3810d9617875a10d269"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a52eba5b5c1d6c3810d9617875a10d269">ground_segmentation::PointCloudGrid::getGroundCells</a></div><div class="ttdeci">void getGroundCells()</div><div class="ttdoc">Classify grid cells into ground or obstacle.</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00405">ground_detection.hpp:405</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_afd3955812bb00019cfd0814288570bc8"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#afd3955812bb00019cfd0814288570bc8">ground_segmentation::PointCloudGrid::classifySparsityBoundingBox</a></div><div class="ttdeci">std::string classifySparsityBoundingBox(const GridCell&lt; PointT &gt; &amp;cell, typename pcl::PointCloud&lt; PointT &gt;::Ptr cloud)</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00297">ground_detection.hpp:297</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00057">ground_segmentation::GROUND</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00106">ground_segmentation::GridCell&lt; PointT &gt;::inliers</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00072">ground_segmentation::LINE</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00110">ground_segmentation::GridCell&lt; PointT &gt;::points</a>, <a class="el" href="ground__detection__types_8hpp_source.html#l00104">ground_segmentation::GridCell&lt; PointT &gt;::primitive_type</a>, and <a class="el" href="ground__detection__types_8hpp_source.html#l00103">ground_segmentation::GridCell&lt; PointT &gt;::terrain_type</a>.</p>

</div>
</div>
<a id="a1fa0dc1bb0857824dcf67d571f88e914" name="a1fa0dc1bb0857824dcf67d571f88e914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa0dc1bb0857824dcf67d571f88e914">&#9670;&#160;</a></span>setDistToGround()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::setDistToGround </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00117">117</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>  {</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#afce03e28a6df9289742dadc909913488">grid_config</a>.<a class="code hl_variable" href="structground__segmentation_1_1GridConfig.html#a2208c857dbaa2879dda721cf93f4aa2b">distToGround</a> = z;</div>
<div class="line"><span class="lineno">  120</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ground__detection__types_8hpp_source.html#l00200">ground_segmentation::GridConfig::distToGround</a>, and <a class="el" href="ground__detection_8hpp_source.html#l00194">ground_segmentation::PointCloudGrid&lt; PointT &gt;::grid_config</a>.</p>

</div>
</div>
<a id="ac2d3d69cae6d8eed58b39380ab115cf3" name="ac2d3d69cae6d8eed58b39380ab115cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d3d69cae6d8eed58b39380ab115cf3">&#9670;&#160;</a></span>setInputCloud()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::setInputCloud </td>
          <td>(</td>
          <td class="paramtype">typename pcl::PointCloud&lt; PointT &gt;::Ptr&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Quaterniond &amp;&#160;</td>
          <td class="paramname"><em>R_body2World</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00654">654</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  657</span>{</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>  this-&gt;<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#af2c87020ab9b35111511d3b7092c6592">clear</a>();</div>
<div class="line"><span class="lineno">  660</span>  <a class="code hl_variable" href="classground__segmentation_1_1PointCloudGrid.html#ae715bfd68d27f8c08820e3d89db82e31">orientation</a> = R_body2World;</div>
<div class="line"><span class="lineno">  661</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno">  662</span>  <span class="keywordflow">for</span> (<span class="keyword">typename</span> pcl::PointCloud&lt;PointT&gt;::iterator it = input-&gt;begin(); it != input-&gt;end(); ++it) {</div>
<div class="line"><span class="lineno">  663</span>    this-&gt;<a class="code hl_function" href="classground__segmentation_1_1PointCloudGrid.html#a6cafc2ca7b3984be94bf8da742b0360c">addPoint</a>(*it);</div>
<div class="line"><span class="lineno">  664</span>    index++;</div>
<div class="line"><span class="lineno">  665</span>  }</div>
<div class="line"><span class="lineno">  666</span>}</div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_a6cafc2ca7b3984be94bf8da742b0360c"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#a6cafc2ca7b3984be94bf8da742b0360c">ground_segmentation::PointCloudGrid::addPoint</a></div><div class="ttdeci">void addPoint(const PointT &amp;point)</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00258">ground_detection.hpp:258</a></div></div>
<div class="ttc" id="aclassground__segmentation_1_1PointCloudGrid_html_af2c87020ab9b35111511d3b7092c6592"><div class="ttname"><a href="classground__segmentation_1_1PointCloudGrid.html#af2c87020ab9b35111511d3b7092c6592">ground_segmentation::PointCloudGrid::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> <a href="ground__detection_8hpp_source.html#l00242">ground_detection.hpp:242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a39f3a64c5ecb16b305b1e57c56d822c1" name="a39f3a64c5ecb16b305b1e57c56d822c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f3a64c5ecb16b305b1e57c56d822c1">&#9670;&#160;</a></span>centroid_cloud</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pcl::PointCloud&lt;PointT&gt;::Ptr <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::centroid_cloud</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00200">200</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="a7358ddac8e1c4991089a9bd722b96a6c" name="a7358ddac8e1c4991089a9bd722b96a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7358ddac8e1c4991089a9bd722b96a6c">&#9670;&#160;</a></span>centroid_indices</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::centroid_indices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00201">201</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="afce03e28a6df9289742dadc909913488" name="afce03e28a6df9289742dadc909913488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afce03e28a6df9289742dadc909913488">&#9670;&#160;</a></span>grid_config</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structground__segmentation_1_1GridConfig.html">GridConfig</a> <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::grid_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00194">194</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ground__detection_8hpp_source.html#l00117">ground_segmentation::PointCloudGrid&lt; PointT &gt;::setDistToGround()</a>.</p>

</div>
</div>
<a id="a8666cb88a6baa0c76f783034b5315065" name="a8666cb88a6baa0c76f783034b5315065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8666cb88a6baa0c76f783034b5315065">&#9670;&#160;</a></span>gridCells</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html#a7b13cca7273b69da94790582eab60224">GridCellsType</a> <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::gridCells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00193">193</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ground__detection_8hpp_source.html#l00092">ground_segmentation::PointCloudGrid&lt; PointT &gt;::getGridCells()</a>.</p>

</div>
</div>
<a id="ac5a3bb7b7e69fd4cfd1be4fc762cfca4" name="ac5a3bb7b7e69fd4cfd1be4fc762cfca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a3bb7b7e69fd4cfd1be4fc762cfca4">&#9670;&#160;</a></span>ground_cells</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::ground_cells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00195">195</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="aec65e97e550ac61412cb79730b00116b" name="aec65e97e550ac61412cb79730b00116b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec65e97e550ac61412cb79730b00116b">&#9670;&#160;</a></span>index_to_centroid_idx</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>, size_t, <a class="el" href="structground__segmentation_1_1Index3D_1_1HashFunction.html">Index3D::HashFunction</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::index_to_centroid_idx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00202">202</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="a6b6b5a10467209f9850edfc62190deb2" name="a6b6b5a10467209f9850edfc62190deb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6b5a10467209f9850edfc62190deb2">&#9670;&#160;</a></span>neighbor_offsets</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::neighbor_offsets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00191">191</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="a1e6bb0ca4dddfdb8209f9e2504eec644" name="a1e6bb0ca4dddfdb8209f9e2504eec644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6bb0ca4dddfdb8209f9e2504eec644">&#9670;&#160;</a></span>non_ground_cells</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structground__segmentation_1_1Index3D.html">Index3D</a>&gt; <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::non_ground_cells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00196">196</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<a id="ae715bfd68d27f8c08820e3d89db82e31" name="ae715bfd68d27f8c08820e3d89db82e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae715bfd68d27f8c08820e3d89db82e31">&#9670;&#160;</a></span>orientation</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PointT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Quaterniond <a class="el" href="classground__segmentation_1_1PointCloudGrid.html">ground_segmentation::PointCloudGrid</a>&lt; PointT &gt;::orientation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ground__detection_8hpp_source.html#l00197">197</a> of file <a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/ground_segmentation/ground_segmentation/include/<a class="el" href="ground__detection_8hpp_source.html">ground_detection.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceground__segmentation.html">ground_segmentation</a></li><li class="navelem"><a class="el" href="classground__segmentation_1_1PointCloudGrid.html">PointCloudGrid</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
